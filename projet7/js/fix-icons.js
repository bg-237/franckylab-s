// Script pour remplacer automatiquement les icônes Font Awesome
document.addEventListener('DOMContentLoaded', function() {
    // Mapping des icônes Font Awesome vers nos icônes custom
    const iconMap = {
        'fa-heartbeat': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C8.69 2 6 4.69 6 8C6 10.5 6.5 12.5 7 14C7.5 15.5 8 16.5 8 18C8 19.66 9.34 21 11 21C12.66 21 14 19.66 14 18C14 16.5 14.5 15.5 15 14C15.5 12.5 16 10.5 16 8C16 4.69 13.31 2 12 2M12 4C12.21 4 12.42 4.08 12.58 4.25C12.74 4.42 12.83 4.63 12.83 4.83C12.83 5.04 12.74 5.25 12.58 5.42C12.42 5.58 12.21 5.67 12 5.67C11.79 5.67 11.58 5.58 11.42 5.42C11.25 5.25 11.17 5.04 11.17 4.83C11.17 4.63 11.25 4.42 11.42 4.25C11.58 4.08 11.79 4 12 4Z"/></svg>',
        'fa-car': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M5 11L6.5 6.5H17.5L19 11H5M17.5 16A1.5 1.5 0 0 1 16 14.5A1.5 1.5 0 0 1 17.5 13A1.5 1.5 0 0 1 19 14.5A1.5 1.5 0 0 1 17.5 16M6.5 16A1.5 1.5 0 0 1 5 14.5A1.5 1.5 0 0 1 6.5 13A1.5 1.5 0 0 1 8 14.5A1.5 1.5 0 0 1 6.5 16M18.92 6C18.72 5.42 18.16 5 17.5 5H6.5C5.84 5 5.28 5.42 5.08 6L3 12V20A1 1 0 0 0 4 21H5A1 1 0 0 0 6 20V19H18V20A1 1 0 0 0 19 21H20A1 1 0 0 0 21 20V12L18.92 6Z"/></svg>',
        'fa-home': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M10 20V14H14V20H19V12H22L12 3L2 12H5V20H10Z"/></svg>',
        'fa-users': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M16 4C18.2 4 20 5.8 20 8S18.2 12 16 12S12 10.2 12 8S13.8 4 16 4M16 14C20.4 14 24 15.8 24 18V20H8V18C8 15.8 11.6 14 16 14M8 4C10.2 4 12 5.8 12 8S10.2 12 8 12S4 10.2 4 8S5.8 4 8 4M8 14C12.4 14 16 15.8 16 18V20H0V18C0 15.8 3.6 14 8 14Z"/></svg>',
        'fa-briefcase': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M10 2H14A2 2 0 0 1 16 4V6H20A2 2 0 0 1 22 8V19A2 2 0 0 1 20 21H4A2 2 0 0 1 2 19V8A2 2 0 0 1 4 6H8V4A2 2 0 0 1 10 2M14 6V4H10V6H14M4 8V19H20V8H4Z"/></svg>',
        'fa-graduation-cap': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 3L1 9L12 15L21 10.09V17H23V9M5 13.18V17.18L12 21L19 17.18V13.18L12 17L5 13.18Z"/></svg>',
        'fa-clock': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2A10 10 0 0 0 2 12A10 10 0 0 0 12 22A10 10 0 0 0 22 12A10 10 0 0 0 12 2M16.2 16.2L11 13V7H12.5V12.2L17 14.7L16.2 16.2Z"/></svg>',
        'fa-award': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M5 16L3 5L8.5 12L12 4L15.5 12L21 5L19 16H5M19 19C19 19.6 18.6 20 18 20H6C5.4 20 5 19.6 5 19V18H19V19Z"/></svg>',
        'fa-handshake': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M11 6H14L13.5 7.5H9.5L11 6M7 4V6H17V4C17 2.89 16.1 2 15 2H9C7.89 2 7 2.89 7 4M20 8H4C2.89 8 2 8.89 2 10V11H22V10C22 8.89 21.1 8 20 8M2 12V20C2 21.1 2.9 22 4 22H20C21.1 22 22 21.1 22 20V12H2Z"/></svg>',
        'fa-money-bill-wave': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M5 12C5 13.11 3.89 14 2.5 14S0 13.11 0 12S1.39 10 2.5 10S5 10.89 5 12M7 12C7 10.89 8.39 10 10 10S13 10.89 13 12S11.61 14 10 14S7 13.11 7 12M14 12C14 10.89 15.39 10 17 10S20 10.89 20 12S18.61 14 17 14S14 13.11 14 12M21 12C21 13.11 19.61 14 18 14S15 13.11 15 12S16.39 10 18 10S21 10.89 21 12Z"/></svg>',
        'fa-phone': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M6.62 10.79C8.06 13.62 10.38 15.94 13.21 17.38L15.41 15.18C15.69 14.9 16.08 14.82 16.43 14.93C17.55 15.3 18.75 15.5 20 15.5A1 1 0 0 1 21 16.5V20A1 1 0 0 1 20 21A17 17 0 0 1 3 4A1 1 0 0 1 4 3H7.5A1 1 0 0 1 8.5 4C8.5 5.25 8.7 6.45 9.07 7.57C9.18 7.92 9.1 8.31 8.82 8.59L6.62 10.79Z"/></svg>',
        'fa-file-alt': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M14 2H6A2 2 0 0 0 4 4V20A2 2 0 0 0 6 22H18A2 2 0 0 0 20 20V8L14 2M18 20H6V4H13V9H18V20Z"/></svg>',
        'fa-calculator': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M7 2H17A2 2 0 0 1 19 4V20A2 2 0 0 1 17 22H7A2 2 0 0 1 5 20V4A2 2 0 0 1 7 2M7 4V8H17V4H7M7 10V12H9V10H7M11 10V12H13V10H11M15 10V12H17V10H15M7 14V16H9V14H7M11 14V16H13V14H11M15 14V16H17V14H15M7 18V20H9V18H7M11 18V20H13V18H11M15 18V20H17V18H15Z"/></svg>',
        'fa-arrow-right': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M4 11V13H16L10.5 18.5L11.92 19.92L19.84 12L11.92 4.08L10.5 5.5L16 11H4Z"/></svg>',
        'fa-arrow-up': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M13 20H11V8L5.5 13.5L4.08 12.08L12 4.16L19.92 12.08L18.5 13.5L13 8V20Z"/></svg>',
        'fa-arrow-left': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M20 11V13H8L13.5 18.5L12.08 19.92L4.16 12L12.08 4.08L13.5 5.5L8 11H20Z"/></svg>',
        'fa-shield-alt': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1M12 7C13.4 7 14.8 8.6 14.8 10.5V11.5C15.4 11.5 16 12.4 16 13V16C16 17.1 15.1 18 14 18H10C8.9 18 8 17.1 8 16V13C8 12.4 8.4 11.5 9 11.5V10.5C9 8.6 10.6 7 12 7Z"/></svg>',
        'fa-shield-check': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22S22 17.5 22 12S17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z"/></svg>',
        'fa-check-circle': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22S22 17.5 22 12S17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z"/></svg>',
        'fa-map-marker-alt': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22S19 14.25 19 9C19 5.13 15.87 2 12 2M12 11.5C10.62 11.5 9.5 10.38 9.5 9S10.62 6.5 12 6.5S14.5 7.62 14.5 9S13.38 11.5 12 11.5Z"/></svg>',
        'fa-envelope': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M20 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4M20 8L12 13L4 8V6L12 11L20 6V8Z"/></svg>',
        'fa-paper-plane': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M2 21L23 12L2 3V10L17 12L2 14V21Z"/></svg>',
        'fa-facebook': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073C24 5.405 18.627 0 12 0S0 5.405 0 12.073C0 18.1 4.388 23.094 10.125 24V15.563H7.078V12.073H10.125V9.405C10.125 6.348 11.917 4.688 14.658 4.688C15.97 4.688 17.344 4.922 17.344 4.922V7.875H15.83C14.34 7.875 13.875 8.8 13.875 9.75V12.073H17.203L16.671 15.563H13.875V24C19.612 23.094 24 18.1 24 12.073Z"/></svg>',
        'fa-twitter': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M22.46 6C21.69 6.35 20.86 6.58 20 6.69C20.88 6.16 21.56 5.32 21.88 4.31C21.05 4.81 20.13 5.16 19.16 5.36C18.37 4.5 17.26 4 16 4C13.65 4 11.73 5.92 11.73 8.29C11.73 8.63 11.77 8.96 11.84 9.27C8.28 9.09 5.11 7.38 3 4.79C2.63 5.42 2.42 6.16 2.42 6.94C2.42 8.43 3.17 9.75 4.33 10.5C3.62 10.5 2.96 10.3 2.38 10C2.38 10 2.38 10 2.38 10.03C2.38 12.11 3.86 13.85 5.82 14.24C5.46 14.34 5.08 14.39 4.69 14.39C4.42 14.39 4.15 14.36 3.89 14.31C4.43 16 6 17.26 7.89 17.29C6.43 18.45 4.58 19.13 2.56 19.13C2.22 19.13 1.88 19.11 1.54 19.07C3.44 20.29 5.7 21 8.12 21C16 21 20.33 14.46 20.33 8.79C20.33 8.6 20.33 8.42 20.32 8.23C21.16 7.63 21.88 6.87 22.46 6Z"/></svg>',
        'fa-linkedin': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452H16.893V14.883C16.893 13.555 16.866 11.846 15.041 11.846C13.188 11.846 12.905 13.291 12.905 14.785V20.452H9.351V9H12.765V10.561H12.811C13.288 9.661 14.448 8.711 16.181 8.711C19.782 8.711 20.448 11.081 20.448 14.166V20.452H20.447ZM5.337 7.433A2.062 2.062 0 0 1 3.274 5.371A2.064 2.064 0 0 1 5.337 3.309A2.064 2.064 0 0 1 7.4 5.371A2.063 2.063 0 0 1 5.337 7.433ZM7.119 20.452H3.555V9H7.119V20.452ZM22.225 0H1.771C0.792 0 0 0.774 0 1.729V22.271C0 23.227 0.792 24 1.771 24H22.222C23.2 24 24 23.227 24 22.271V1.729C24 0.774 23.2 0 22.222 0H22.225Z"/></svg>',
        'fa-whatsapp': '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382C17.367 14.382 17.188 14.382 17.11 14.304C16.957 14.226 15.847 13.675 15.847 13.675C15.668 13.597 15.566 13.597 15.413 13.854C15.413 13.854 14.865 14.644 14.687 14.826C14.584 14.928 14.406 14.928 14.253 14.826C14.1 14.723 13.552 14.382 12.442 13.597C11.717 13.018 11.307 12.312 11.205 12.133C11.102 11.955 11.205 11.826 11.307 11.723C11.41 11.621 11.512 11.468 11.615 11.366C11.717 11.263 11.717 11.161 11.82 11.058C11.922 10.956 11.82 10.853 11.717 10.751C11.615 10.648 11.205 9.538 11.027 9.103C10.848 8.668 10.67 8.668 10.567 8.668C10.465 8.668 10.362 8.668 10.26 8.668C10.157 8.668 9.952 8.771 9.85 8.873C9.747 8.976 9.337 9.386 9.337 10.496C9.337 11.606 10.157 12.665 10.26 12.767C10.362 12.87 11.717 15.016 13.859 15.947C14.304 16.149 14.661 16.277 14.943 16.379C15.388 16.533 15.782 16.507 16.099 16.456C16.442 16.405 17.367 15.947 17.57 15.438C17.772 14.928 17.772 14.484 17.67 14.382C17.567 14.279 17.472 14.382 17.472 14.382M12.19 21.785H12.185C10.36 21.785 8.587 21.297 7.052 20.397L6.684 20.185L2.925 21.214L3.973 17.584L3.734 17.2C2.76 15.616 2.235 13.794 2.24 11.916C2.24 6.615 6.615 2.24 11.916 2.24C14.484 2.24 16.897 3.171 18.761 5.035C20.625 6.899 21.556 9.312 21.556 11.88C21.556 17.181 17.181 21.556 11.88 21.556"/></svg>',
    };

    // Fonction pour remplacer une icône
    function replaceIcon(element, iconSvg) {
        const wrapper = document.createElement('span');
        wrapper.className = 'francky-icon';
        wrapper.innerHTML = iconSvg;
        
        // Copier les styles de l'élément original
        const computedStyle = window.getComputedStyle(element);
        const svg = wrapper.querySelector('svg');
        if (svg) {
            svg.style.width = computedStyle.fontSize;
            svg.style.height = computedStyle.fontSize;
            svg.style.color = computedStyle.color;
            svg.style.display = 'inline-block';
            svg.style.verticalAlign = 'middle';
        }
        
        element.parentNode.replaceChild(wrapper, element);
    }

    // Remplacer toutes les icônes Font Awesome
    Object.keys(iconMap).forEach(faClass => {
        const elements = document.querySelectorAll(`.${faClass}`);
        elements.forEach(element => {
            replaceIcon(element, iconMap[faClass]);
        });
    });

    // Remplacer aussi les icônes avec les classes fas, far, fab
    document.querySelectorAll('[class*="fa-"]').forEach(element => {
        const classes = element.className.split(' ');
        const faClass = classes.find(cls => cls.startsWith('fa-') && cls !== 'fa-spin');
        
        if (faClass && iconMap[faClass]) {
            replaceIcon(element, iconMap[faClass]);
        }
    });

    console.log('Icônes Font Awesome remplacées par le système custom');
});
        // Ajouter l'icône WhatsApp si elle n'existe pas
        iconMap['fa-whatsapp'] = '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382C17.367 14.382 17.188 14.382 17.11 14.304C16.957 14.226 15.847 13.675 15.847 13.675C15.668 13.597 15.566 13.597 15.413 13.854C15.413 13.854 14.865 14.644 14.687 14.826C14.584 14.928 14.406 14.928 14.253 14.826C14.1 14.723 13.552 14.382 12.442 13.597C11.717 13.018 11.307 12.312 11.205 12.133C11.102 11.955 11.205 11.826 11.307 11.723C11.41 11.621 11.512 11.468 11.615 11.366C11.717 11.263 11.717 11.161 11.82 11.058C11.922 10.956 11.82 10.853 11.717 10.751C11.615 10.648 11.205 9.538 11.027 9.103C10.848 8.668 10.67 8.668 10.567 8.668C10.465 8.668 10.362 8.668 10.26 8.668C10.157 8.668 9.952 8.771 9.85 8.873C9.747 8.976 9.337 9.386 9.337 10.496C9.337 11.606 10.157 12.665 10.26 12.767C10.362 12.87 11.717 15.016 13.859 15.947C14.304 16.149 14.661 16.277 14.943 16.379C15.388 16.533 15.782 16.507 16.099 16.456C16.442 16.405 17.367 15.947 17.57 15.438C17.772 14.928 17.772 14.484 17.67 14.382C17.567 14.279 17.472 14.382 17.472 14.382M12.19 21.785H12.185C10.36 21.785 8.587 21.297 7.052 20.397L6.684 20.185L2.925 21.214L3.973 17.584L3.734 17.2C2.76 15.616 2.235 13.794 2.24 11.916C2.24 6.615 6.615 2.24 11.916 2.24C14.484 2.24 16.897 3.171 18.761 5.035C20.625 6.899 21.556 9.312 21.556 11.88C21.556 17.181 17.181 21.556 11.88 21.556"/></svg>';